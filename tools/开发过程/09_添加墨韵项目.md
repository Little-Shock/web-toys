# 添加墨韵项目

## 目标

创建一个新的网页玩具"墨韵"，这是一个流体墨水画布，模拟墨水在纸上的扩散效果，结合中国水墨画的美学。该项目支持多种墨色和笔触，并可以通过设备倾斜控制墨水流动，为用户提供独特的数字绘画体验。

## 功能特点

1. **流体模拟**：
   - 基于Navier-Stokes方程的简化版本
   - 真实的墨水扩散和流动效果
   - 支持设备倾斜控制墨水流向
   - 不同纸张对墨水扩散的影响

2. **多种墨色**：
   - 玄墨（黑色）- 传统水墨色
   - 青墨（蓝色）- 清冷色调
   - 朱砂（红色）- 温暖色调
   - 松烟（绿色）- 自然色调

3. **多种笔触**：
   - 软笔 - 柔和的墨水扩散
   - 硬笔 - 更精确的线条
   - 泼墨 - 随机飞溅效果
   - 水滴 - 添加水滴稀释墨水

4. **纸张选择**：
   - 宣纸 - 传统中国画纸
   - 粗纹 - 纹理较粗的纸张
   - 细纹 - 纹理较细的纸张
   - 吸水 - 高吸水性纸张

5. **交互体验**：
   - 触摸/鼠标绘制
   - 设备倾斜控制墨水流动
   - 保存作品功能
   - 参数调整面板

6. **音效反馈**：
   - 笔触音效
   - 泼墨音效
   - 水滴音效
   - 纸张音效

## 技术实现

1. **流体模拟**：
   - 使用JavaScript实现简化版的流体动力学
   - 密度和速度场的计算
   - 扩散和平流步骤
   - 纸张吸收效果模拟

2. **Canvas渲染**：
   - 使用HTML5 Canvas绘制流体
   - 双缓冲渲染技术
   - 纸张纹理背景
   - 墨水颜色混合

3. **音频系统**：
   - 使用Web Audio API生成合成音效
   - 空间音频定位
   - 基于绘制速度和强度的动态音效

4. **设备方向感应**：
   - 使用DeviceOrientation API
   - 将设备倾斜角度转换为重力方向
   - 适配不同设备的方向控制

## 项目结构

```
墨韵/
├── index.html          # 主HTML文件
├── css/
│   └── style.css       # 样式文件
├── js/
│   ├── fluid-simulation.js # 流体模拟核心
│   ├── audio-manager.js  # 音频管理器
│   ├── ink-renderer.js   # 墨水渲染器
│   └── main.js           # 主控制脚本
└── assets/
    └── images/         # 纸张纹理图像
```

## 开发步骤

1. 创建项目目录结构
2. 实现基础HTML布局和CSS样式
3. 开发流体模拟核心，实现墨水扩散效果
4. 实现墨水渲染器，将流体模拟结果渲染到画布上
5. 开发音频管理器，创建合成音效
6. 实现用户交互控制，包括触摸/鼠标绘制和设备倾斜控制
7. 添加多种墨色、笔触和纸张选项
8. 实现参数调整面板
9. 添加保存作品功能
10. 优化移动端体验
11. 添加返回主菜单链接
12. 更新主导航页面和README文档

## 部署说明

该项目作为整个web-toys集合的一部分，通过Cloudflare Pages部署。无需特殊配置，只需确保项目文件夹结构正确，并在主导航页面添加链接即可。

## 未来改进方向

1. 添加更多墨色和笔触类型
2. 实现墨色混合效果
3. 添加更真实的纸张纹理
4. 实现撤销/重做功能
5. 添加更多绘画工具，如橡皮擦、墨迹调整等
6. 实现作品分享功能
7. 添加预设模板和引导教程
8. 优化性能，支持更大画布和更复杂的流体模拟
